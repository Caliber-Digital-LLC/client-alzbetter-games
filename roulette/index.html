<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#1a3d2e">
  <title>Roulette</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="../shared/help-modal.css">
</head>
<body>
  <!--
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  ROULETTE - TUNING SECTION
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  
  CONFIGURATION (in roulette.js CONFIG object):
  
  CREDITS & BETTING:
  - STARTING_CREDITS: 200     // Initial credit balance
  - CHIP_VALUES: [1, 5, 10]   // Available chip denominations
  - DEFAULT_CHIP: 5           // Initially selected chip value
  
  BET TYPES IN SIMPLE MODE:
  - SIMPLE_BETS: ['red', 'black', 'even', 'odd', 'low', 'high', 'straight']
  - Set ENABLE_DOZENS: true/false to show dozen bets (1-12, 13-24, 25-36)
  - Set ENABLE_COLUMNS: true/false to show column bets
  
  PLAYER FAVOR:
  - PLAYER_FAVOR_RATE: 0.65   // 65% chance to push on loss
  
  SPIN ANIMATION:
  - SPIN_DURATION: 5000         // Base spin time in ms
  - SPIN_ROTATIONS: 5           // Number of full wheel rotations
  - BALL_DURATION: 5500         // Ball animation duration
  - REDUCED_SPIN_DURATION: 2000 // Duration when reduced motion
  
  WHEEL APPEARANCE:
  - WHEEL_COLORS object controls segment colors
  - FELT_COLOR: '#1a5c3e'       // Table felt green
  - ACCENT_COLOR: '#d4a853'     // Gold accent color
  
  SOUNDS:
  - All sounds generated via WebAudio
  - Adjust frequencies and durations in AudioManager methods
  - Master volume controlled by game.volume (0.0-1.0)
  
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
  -->

  <!-- Main Game Container -->
  <div class="game-container">
    
    <!-- Header -->
    <header class="header">
      <h1 class="header-title"><img src="/icons/roulette.svg" class="title-icon" alt=""> Roulette</h1>
      <div class="header-actions">
        <button id="btn-sound" class="icon-btn" aria-label="Toggle sound">
          <svg id="icon-sound-on" class="sound-on-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
            <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
          </svg>
          <svg id="icon-sound-off" class="sound-off-icon hidden" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
            <line x1="22" y1="9" x2="16" y2="15"/>
            <line x1="16" y1="9" x2="22" y2="15"/>
          </svg>
        </button>
        <button id="btn-help" class="icon-btn" aria-label="Help">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"/>
            <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
            <path d="M12 17h.01"/>
          </svg>
        </button>
      </div>
    </header>

    <!-- Stats Bar -->
    <div class="stats-bar">
      <div class="stat">
        <span class="stat-label">Credits</span>
        <span id="credits-value" class="stat-value credits" aria-live="polite">200</span>
      </div>
      <div class="stat">
        <span class="stat-label">Total Bet</span>
        <span id="total-bet-value" class="stat-value bet">0</span>
      </div>
    </div>

    <!-- Main Game Area -->
    <main class="main-area">
      
      <!-- Wheel Section -->
      <section class="wheel-section" aria-label="Roulette wheel">
        <div class="wheel-container">
          <canvas id="wheel-canvas" width="400" height="400"></canvas>
          <div id="ball-marker" class="ball-marker hidden"></div>
        </div>
        
        <!-- Result Display -->
        <div id="result-display" class="result-display hidden" aria-live="assertive">
          <div id="result-number" class="result-number"></div>
          <div id="result-color" class="result-color"></div>
        </div>
        
        <!-- Win Display -->
        <div id="win-display" class="win-display hidden" aria-live="polite">
          <div id="win-message" class="win-message"></div>
          <div id="win-amount" class="win-amount"></div>
          <div id="win-breakdown" class="win-breakdown"></div>
        </div>
      </section>

      <!-- Bet Panel -->
      <section class="bet-panel" aria-label="Betting controls">
        
        <!-- Scrollable betting area -->
        <div class="bet-scroll-area">
          <!-- Chip Selector -->
          <div class="chip-selector" role="radiogroup" aria-label="Select chip value">
            <button class="chip chip-1" data-value="1" role="radio" aria-checked="false">1</button>
            <button class="chip chip-5 selected" data-value="5" role="radio" aria-checked="true">5</button>
            <button class="chip chip-10" data-value="10" role="radio" aria-checked="false">10</button>
          </div>

          <!-- Simple Bets Mode -->
          <div id="simple-bets" class="simple-bets">
          
          <!-- Outside Bets -->
          <div class="bet-grid outside-bets">
            <button class="bet-tile red" data-bet="red" aria-label="Bet on Red">
              <span class="bet-icon">üî¥</span>
              <span class="bet-label">Red</span>
              <span class="bet-odds">1:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
            <button class="bet-tile black" data-bet="black" aria-label="Bet on Black">
              <span class="bet-icon">‚ö´</span>
              <span class="bet-label">Black</span>
              <span class="bet-odds">1:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
            <button class="bet-tile even" data-bet="even" aria-label="Bet on Even">
              <span class="bet-icon">2,4,6</span>
              <span class="bet-label">Even</span>
              <span class="bet-odds">1:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
            <button class="bet-tile odd" data-bet="odd" aria-label="Bet on Odd">
              <span class="bet-icon">1,3,5</span>
              <span class="bet-label">Odd</span>
              <span class="bet-odds">1:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
            <button class="bet-tile low" data-bet="low" aria-label="Bet on 1 to 18">
              <span class="bet-icon">1‚Äì18</span>
              <span class="bet-label">Low</span>
              <span class="bet-odds">1:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
            <button class="bet-tile high" data-bet="high" aria-label="Bet on 19 to 36">
              <span class="bet-icon">19‚Äì36</span>
              <span class="bet-label">High</span>
              <span class="bet-odds">1:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
          </div>

          <!-- Dozens (optional) -->
          <div class="bet-grid dozens-bets">
            <button class="bet-tile dozen" data-bet="dozen1" aria-label="Bet on 1st Dozen (1-12)">
              <span class="bet-label">1st 12</span>
              <span class="bet-odds">2:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
            <button class="bet-tile dozen" data-bet="dozen2" aria-label="Bet on 2nd Dozen (13-24)">
              <span class="bet-label">2nd 12</span>
              <span class="bet-odds">2:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
            <button class="bet-tile dozen" data-bet="dozen3" aria-label="Bet on 3rd Dozen (25-36)">
              <span class="bet-label">3rd 12</span>
              <span class="bet-odds">2:1</span>
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
          </div>

          <!-- Straight Up Number Picker -->
          <div class="straight-up-section">
            <div class="straight-up-header">
              <span class="straight-up-title">Pick a Number</span>
              <span class="straight-up-odds">35:1</span>
            </div>
            
            <div class="number-controls">
              <button id="num-minus" class="num-btn" aria-label="Decrease number">‚àí</button>
              <div id="selected-number" class="selected-number" aria-live="polite">
                <span class="num-value">17</span>
                <span class="num-color"></span>
              </div>
              <button id="num-plus" class="num-btn" aria-label="Increase number">+</button>
            </div>
            
            <div class="quick-picks">
              <button id="pick-random" class="quick-btn">üé≤ Random</button>
              <button id="pick-last" class="quick-btn" disabled>‚Ü© Last Win</button>
              <button id="pick-zero" class="quick-btn">0Ô∏è‚É£ Zero</button>
            </div>
            
            <button id="add-straight" class="add-straight-btn" data-bet="straight" aria-label="Add straight up bet">
              Add Number Bet
              <span class="bet-chips hidden" data-chips="0"></span>
            </button>
            
            <!-- Number Grid (expandable) -->
            <button id="toggle-grid" class="toggle-grid-btn" aria-expanded="false">
              Show Number Grid ‚ñº
            </button>
            <div id="number-grid" class="number-grid hidden" role="grid" aria-label="Number selection grid">
              <!-- Numbers 0-36 generated by JS -->
            </div>
          </div>
        </div>

        </div>
        <!-- End scrollable betting area -->

        <!-- Action Buttons -->
        <div class="action-bar">
          <button id="btn-clear" class="action-btn secondary" disabled>Clear</button>
          <button id="btn-rebet" class="action-btn secondary" disabled>Rebet</button>
          <button id="btn-spin" class="action-btn primary" disabled>SPIN</button>
        </div>

        <!-- Instruction -->
        <div id="instruction" class="instruction" aria-live="polite">
          Select a chip, then tap a bet to place it.
        </div>
      </section>
    </main>
  </div>

  <!-- Game Over Overlay -->
  <div id="gameover-overlay" class="overlay hidden">
    <div class="overlay-content">
      <h2>Out of Credits</h2>
      <p>Don't worry ‚Äî it's just for fun!</p>
      <button id="btn-reset-credits" class="overlay-btn">Start Fresh (200 Credits)</button>
    </div>
  </div>

  <!-- Help Modal -->
  <div id="help-modal" class="modal-overlay hidden" role="dialog" aria-labelledby="help-title" data-no-scroll="true">
    <div class="modal">
      <div class="modal-header">
        <h2 id="help-title" class="modal-title">How to Play</h2>
        <button id="close-help" class="modal-close" aria-label="Close">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"/>
            <line x1="6" y1="6" x2="18" y2="18"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <section class="help-section">
          <h3>Quick Start</h3>
          <ol>
            <li>Select a chip (1, 5, or 10)</li>
            <li>Tap a bet to place chips (tap again to add)</li>
            <li>Press SPIN</li>
          </ol>
        </section>

        <section class="help-section">
          <h3>Common Payouts</h3>
          <ul>
            <li>Straight Up (single number): 35:1</li>
            <li>Red/Black, Even/Odd, 1-18/19-36: 1:1</li>
            <li>Dozens (1-12, 13-24, 25-36) or Columns: 2:1</li>
          </ul>
          <p class="note">Zero (0) is green and loses even-money bets.</p>
        </section>

        <section class="help-section">
          <h3>Tips</h3>
          <ul>
            <li>REBET repeats your last bet</li>
            <li>CLEAR removes all bets</li>
          </ul>
        </section>
      </div>
      <div class="modal-footer">
          <button id="close-help-btn" class="btn btn-primary">Got It!</button>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settings-modal" class="modal hidden" role="dialog" aria-labelledby="settings-title">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="settings-title">Settings</h2>
        <button id="close-settings" class="close-btn" aria-label="Close">√ó</button>
      </div>
      <div class="modal-body">
        <div class="setting-row">
          <label for="volume-slider">Volume</label>
          <input type="range" id="volume-slider" min="0" max="100" value="60">
        </div>
        
        <input type="hidden" id="reduced-motion-toggle">
      </div>
    </div>
  </div>

  <script src="roulette.js"></script>
</body>
</html>
